(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userInfo/userInfo"],{187:function(n,e,t){"use strict";(function(n,e){var o=t(4);t(26);o(t(25));var r=o(t(188));n.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t(1)["default"],t(2)["createPage"])},188:function(n,e,t){"use strict";t.r(e);var o=t(189),r=t(191);for(var u in r)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(u);t(200);var i,s=t(34),a=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);a.options.__file="pages/userInfo/userInfo.vue",e["default"]=a.exports},189:function(n,e,t){"use strict";t.r(e);var o=t(190);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},190:function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return r})),t.d(e,"staticRenderFns",(function(){return i})),t.d(e,"recyclableRender",(function(){return u})),t.d(e,"components",(function(){return o}));try{o={uTabbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-tabbar/u-tabbar")]).then(t.bind(null,226))},uTabbarItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-tabbar-item/u-tabbar-item")]).then(t.bind(null,234))},uniCard:function(){return t.e("uni_modules/uni-card/components/uni-card/uni-card").then(t.bind(null,242))},uniSection:function(){return t.e("uni_modules/uni-section/components/uni-section/uni-section").then(t.bind(null,256))},uniList:function(){return t.e("uni_modules/uni-list/components/uni-list/uni-list").then(t.bind(null,249))},uniListItem:function(){return t.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(t.bind(null,334))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var n=this,e=n.$createElement;n._self._c},u=!1,i=[];r._withStripped=!0},191:function(n,e,t){"use strict";t.r(e);var o=t(192),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},192:function(n,e,t){"use strict";(function(n){var o=t(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(t(193)),t(160);var r=function(){t.e("components/watch-login/watch-button").then(function(){return resolve(t(327))}.bind(null,t)).catch(t.oe)},u={data:function(){return{value1:2,studentID:"加载中...",department:"加载中...",studentName:"加载中...",major:"加载中..."}},onLoad:function(){var e=this;console.log("是否登录:"+getApp().globalData.isLogin);var t=n.getStorageSync("username"),o=n.getStorageSync("token"),r=this,u=n.getStorageSync("studentName"),i=n.getStorageSync("studentID"),s=n.getStorageSync("department"),a=n.getStorageSync("major");!t||!o||i&&u&&s&&a?i&&u&&s&&a?(this.studentID=i,this.studentName=u,this.department=s,this.major=a):console.log("获取信息失败,没有username和password"):new Promise((function(u,i){n.request({url:"http://jwxt.qlu.edu.cn/app.do",method:"GET",data:{method:"getUserInfo",xh:t},header:{token:o},success:function(t){console.log(t),JSON.stringify(t).includes("token")?(console.log("token过期"),e.$_tokens.mytoken.refreshToken()):(e.studentName=t.data["xm"],n.setStorageSync("studentName",t.data["xm"]),r.studentID=t.data["xh"],n.setStorageSync("studentID",t.data["xh"]),r.department=t.data["yxmc"],n.setStorageSync("department",t.data["yxmc"]),r.major=t.data["zymc"],n.setStorageSync("major",t.data["zymc"]))}})}))},components:{wButton:r},methods:{change1:function(e){0==e?n.redirectTo({url:"/pages/index/index"}):1==e&&n.redirectTo({url:"/pages/function/function"})},logout:function(){n.setStorageSync("token",-1),n.setStorageSync("isLogin",0),getApp().globalData.isLogin=0,getApp().globalData.classes=[],n.showToast({title:"注销成功！"}),setTimeout((function(){n.redirectTo({url:"/pages/index/index"})}),1e3)},about:function(){n.navigateTo({url:"/pages/about/about"})}}};e.default=u}).call(this,t(2)["default"])},193:function(n,e,t){"use strict";t.r(e);var o=t(194),r=t(196);for(var u in r)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(u);t(198);var i,s=t(34),a=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);a.options.__file="components/watch-login/watch-input.vue",e["default"]=a.exports},194:function(n,e,t){"use strict";t.r(e);var o=t(195);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},195:function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return r})),t.d(e,"staticRenderFns",(function(){return i})),t.d(e,"recyclableRender",(function(){return u})),t.d(e,"components",(function(){return o}));var r=function(){var n=this,e=n.$createElement;n._self._c},u=!1,i=[];r._withStripped=!0},196:function(n,e,t){"use strict";t.r(e);var o=t(197),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},197:function(n,e,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{showPassword:!1,second:0,isRunCode:!1}},props:{type:String,value:String,placeholder:String,maxlength:{type:[Number,String],default:20},isShowPass:{type:[Boolean,String],default:!1},isShowCode:{type:[Boolean,String],default:!1},codeText:{type:String,default:"获取验证码"},setTime:{type:[Number,String],default:60},focus:{type:[Boolean,String],default:!1}},model:{prop:"value",event:"input"},mounted:function(){var n=this;this,this.$on("runCode",(function(e){n.runCode(e)})),clearInterval(o)},methods:{showPass:function(){this.showPassword=!this.showPassword},setCode:function(){if(this.isRunCode)return!1;this.$emit("setCode")},runCode:function(n){if("0"==String(n))return this.second=0,clearInterval(o),this.isRunCode=!1,!1;if(this.isRunCode)return!1;this.isRunCode=!0,this.second=this._setTime;var e=this;o=setInterval((function(){e.second--,0==e.second&&(e.isRunCode=!1,clearInterval(o))}),1e3)}},computed:{_type:function(){var n=this.type;return"password"==n?"text":n},_isShowPass:function(){return"false"!==String(this.isShowPass)},_isShowCode:function(){return"false"!==String(this.isShowCode)},_setTime:function(){var n=Number(this.setTime);return n>0?n:60},_focus:function(){return"false"!==String(this.focus)},getVerCodeSecond:function(){return this.second<=0?this.codeText:this.second<10?"0"+this.second:this.second}}};e.default=r},198:function(n,e,t){"use strict";t.r(e);var o=t(199),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},199:function(n,e,t){},200:function(n,e,t){"use strict";t.r(e);var o=t(201),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},201:function(n,e,t){}},[[187,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/userInfo/userInfo.js.map